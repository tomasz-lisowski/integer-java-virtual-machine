# ISA
The following is a list of all instructions supported by this implementation of the IJVM:
|     Mnemonic    | Op-Code | Argument Size |      Argument Description      | Outcome                                                                                                                                                                                                                                                     |
|:---------------:|:-------:|:-------------:|:------------------------------:|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      `NOP`      |  `0x00` |       -       |                -               | Nothing.                                                                                                                                                                                                                                                    |
|     `BIPUSH`    |  `0x10` |      Byte     |             Integer            | Push an integer onto the stack.                                                                                                                                                                                                                             |
|     `LDC_W`     |  `0x13` |     Short     |         Constant Index         | Push a constant, at an index in the constant memory, onto the stack.                                                                                                                                                                                        |
|     `ILOAD`     |  `0x15` |      Byte     |      Local Variable Index      | Push a local variable onto the stack.                                                                                                                                                                                                                       |
|     `ISTORE`    |  `0x36` |      Byte     |      Local Variable Index      | Pop a value off the stack and store it in a local variable.                                                                                                                                                                                                 |
|      `POP`      |  `0x57` |       -       |                -               | Pop a word off the stack and discard it.                                                                                                                                                                                                                    |
|      `DUP`      |  `0x59` |       -       |                -               | Duplicate the top word on the stack and push it onto the stack.                                                                                                                                                                                             |
|      `SWAP`     |  `0x5F` |       -       |                -               | Swap the positions of the two top words on the stack.                                                                                                                                                                                                       |
|      `IADD`     |  `0x60` |       -       |                -               | Pop two top words off the stack, add them, and push the result onto the stack.                                                                                                                                                                              |
|      `ISUB`     |  `0x64` |       -       |                -               | Pop two top words off the stack, subtract them (top word - second to top word), and push the result onto the stack.                                                                                                                                         |
|      `IAND`     |  `0x7E` |       -       |                -               | Pop two top words off the stack, bitwise AND them, and push the result onto the stack.                                                                                                                                                                      |
|      `IINC`     |  `0x84` |   Byte, Byte  | Variable Index, Constant Value | Add a constant value to a local variable.                                                                                                                                                                                                                   |
|      `IFEQ`     |  `0x99` |     Short     |             Offset             | Pop a word off the stack. Branch to offset in code memory if the word is equal to zero.                                                                                                                                                                     |
|      `IFLT`     |  `0x9B` |     Short     |             Offset             | Pop a word off the stack. Branch to offset in code memory if the word is less than zero.                                                                                                                                                                    |
|     `ICMPEQ`    |  `0x9F` |     Short     |             Offset             | Pop two words off the stack. Branch to offset in code memory if the words are equal.                                                                                                                                                                        |
|      `GOTO`     |  `0xA7` |     Short     |             Offset             | Unconditional branch to an offset in code memory.                                                                                                                                                                                                           |
|    `IRETURN`    |  `0xAC` |       -       |                -               | Pop a word off the stack, this is the return value. Pop the stack frame off the stack and replace the OBJREF with the return value. Lastly, restore the program counter.                                                                                    |
|      `IOR`      |  `0xB0` |       -       |                -               | Pop two words off the stack, bitwise OR them, and push the result onto the stack.                                                                                                                                                                           |
| `INVOKEVIRTUAL` |  `0xB6` |     Short     |         Constant Index         | Create a stack frame and move program counter an offset equal to the constant value at the given index.                                                                                                                                                     |
|      `WIDE`     |  `0xC4` |       -       |                -               | A prefix instruction that tells the VM that the next instruction (ISTORE, ILOAD, or IINC) is followed by a 2-byte index (instead of the regular 1-byte index).                                                                                              |
|    `NEWARRAY`   |  `0xD1` |       -       |                -               | Pop a word off the stack, this is the array size. Allocate an array of the given size and push the array reference onto the stack.                                                                                                                          |
|     `IALOAD`    |  `0xD2` |       -       |                -               | Pop two words off the stack, first is the array reference, second is the index. Push a value at index in the referenced array onto the stack.                                                                                                               |
|    `IASTORE`    |  `0xD3` |       -       |                -               | Pop three words off the stack, first is the array reference, second is the index, third is the value. Store the value at index in the referenced array.                                                                                                     |
|       `GC`      |  `0xD4` |       -       |                -               | Run the garbage collector to remove inaccessible arrays, i.e. those whose array references are not in memory anymore.                                                                                                                                       |
|    `NETBIND`    |  `0xE1` |       -       |                -               | Pop a word off the stack, this is the port. Create a connection and bind it to the given port. Push a network reference to the connection onto the stack on a successful bind or a 0 if the operation failed.                                               |
|   `NETCONNECT`  |  `0xE2` |       -       |                -               | Pop two words off the stack, first is the port, second is the host address. Create a connection to a host with the given address on the specified port. Push a network reference onto the stack on a successful connection or a 0, if the operation failed. |
|     `NETIN`     |  `0xE3` |       -       |                -               | Pop a word off the stack, this is the network reference. Read one character from a connection with the given network reference. Push the received character onto the stack.                                                                                 |
|     `NETOUT`    |  `0xE4` |       -       |                -               | Pop two words off the stack, first is a character, second is the network reference. Send the provided character on the connection with the specified network reference.                                                                                     |
|    `NETCLOSE`   |  `0xE5` |       -       |                -               | Pop a word off the stack, this is the network reference. Close the connection with the specified network reference.                                                                                                                                         |
|       `IN`      |  `0xFC` |       -       |                -               | Read a character from an input stream and push the ASCII code of the character onto the stack. In case a character is not received, push a 0 onto the stack.                                                                                                |
|      `OUT`      |  `0xFD` |       -       |                -               | Pop a word off the stack. Convert the word into an ASCII character and print it to an output stream.                                                                                                                                                        |
|      `ERR`      |  `0xFE` |       -       |                -               | Stop the virtual machine and print an error message to the output stream.                                                                                                                                                                                   |
|      `HALT`     |  `0xFF` |       -       |                -               | Stop the virtual machine.                                                                                                                                                                                                                                   |

Note that the "arguments" mentioned in the table are those that are part of the instruction in 
code memory and not those that are acquired from other memories. It is also important to note that 
networking and array instructions are non-standard and hence are not part of the IJVM ISA created 
by Andrew Tanenbaum for the [MIC-1](https://en.wikipedia.org/wiki/MIC-1) architecture. 
